import requests
import urllib.parse
import urllib3

# Ignora avisos de certificado SSL inv√°lido
urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

def puxar_dados_direto(nome):
    base_url = "https://api.encrypt.wtf/new/api.php"
    token = "ifindy"
    base = "nome_completo2"
    
    query = urllib.parse.quote(nome)
    url = f"{base_url}?token={token}&base={base}&query={query}"

    headers = {
        "User-Agent": "Mozilla/5.0",
        "Accept": "*/*"
    }

    print(f"üîé Consultando API direta para: {nome}")
    try:
        resposta = requests.get(url, headers=headers, timeout=15, verify=False)

        print(f"üì° Status HTTP: {resposta.status_code}")

        try:
            dados = resposta.json()
            print("üì¶ Dados recebidos:")
            for chave, valor in dados.items():
                print(f"  - {chave}: {valor}")
        except Exception:
            print("‚ö†Ô∏è Resposta n√£o √© JSON. Conte√∫do bruto:")
            print(resposta.text[:1000])

    except requests.exceptions.SSLError:
        print("‚ùå Erro de SSL mesmo com verifica√ß√£o ignorada.")
    except requests.exceptions.Timeout:
        print("‚è∞ A API demorou demais para responder.")
    except requests.exceptions.RequestException as e:
        print(f"‚ùå Erro geral: {e}")

if __name__ == "__main__":
    try:
        nome = input("üìù Digite o nome completo: ").strip()
        if nome:
            puxar_dados_direto(nome)
        else:
            print("‚ö†Ô∏è Nome inv√°lido.")
    except KeyboardInterrupt:
        print("\n‚ùå Encerrado pelo usu√°rio.")
